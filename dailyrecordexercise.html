<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>운동 기록</title>
    <style>
        body {
            background-image: url('/dailyrecord.JPG');
            background-size: cover; /* 배경 이미지가 화면 전체를 덮도록 설정 */
            background-position: center; /* 배경 이미지의 위치를 중앙으로 설정 */
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh; /* 화면 전체 높이만큼 설정 */
        }
        .container {
            height: 100%; /* 부모 요소인 body에 대해 상대적으로 높이를 100% 설정 */
            padding-bottom: 0; /* 하단 공백 제거 */
        }
    </style>  
</head>
<body>
    <div class="container">
        <h2>운동 기록</h2>
        <form action="/dailyrecordexercise" method="POST" onsubmit="return addExercise()">
            <div class="mb-3">
                <label for="exerciseName" class="form-label">운동 이름</label>
                <input type="text" name="exerciseName" class="form-control" id="exerciseName" placeholder="운동 이름 입력" required>
            </div>
            <div class="mb-3">
                <label for="caloriesBurned" class="form-label">소모 칼로리</label>
                <input type="number" name="caloriesBurned" class="form-control" id="caloriesBurned" placeholder="운동으로 소모한 칼로리 입력" required>
            </div>
            <button type="submit" class="btn btn-primary">추가</button>
        </form>
        <div id="exerciseList"></div>
        <button onclick="showPopup()" class="btn btn-primary">저장</button> <!-- 저장 버튼 추가 -->
    </div>

    <script>
        function addExercise() {
            const exerciseName = document.getElementById('exerciseName').value;
            const caloriesBurned = document.getElementById('caloriesBurned').value;

            // 입력한 운동 정보를 바로 아래에 출력
            const exerciseListElement = document.getElementById('exerciseList');
            const newExerciseEntry = document.createElement('p');
            newExerciseEntry.innerText = `${exerciseName}: ${caloriesBurned} 칼로리`;
            exerciseListElement.appendChild(newExerciseEntry);

            return true; // 기본 동작인 폼 제출을 유지
        }

        function showPopup() {
            alert("운동 기록이 저장되었습니다!");
            setTimeout(function() {
                window.location.href = "/daily-record"; // 1초 후에 리다이렉션
            }, 1000); // 1초 후에 리다이렉션
        }
    </script>
</body>
</html>
